# 区块链

> 分布式账本 ddistributed ledger

中心化：生病有影响

去中心化：其中一个人离开了没有影响，记账的权利交给很多人（矿工）

## hash

md5已经不安全了，sha1 发现了一个碰撞 

hash函数sha256（单项散列）门罗币，难以追踪 

1. 隐私问题
2. 快速对账问题

## 分布式系统和一致性

1. 拜占庭将军问题（每个节点都可能故障）

   - 节点挂了
   - 节点被策反了，这就叫 拜占庭

   解决：Pow Prof of Work  工作证明（思考学历案例），获取证明要很长时间，但是证明这个问题很快，它增加了成为领导的难度，通过区块链的短暂分叉，解决了问题

   - 比特币通过p2p技术实现账本的同步拷贝
   - 比特币通过增加发送信息的成本(pow)来增加信息传播的成本,降低信息传播的速率
   - 比特币通过区块链的长度,来判断数据的可信度
   - 交易中6个有效区块认为转账成功. 所以比特币的交易确认需要1小时
   - Pow通过sha256哈希来完成, 后面单独介绍
   - 工作证明的获取需要很长时间, 但是验证只需要很短时间.
   - 比特币的Pow算法导致大家通过矿池来挖矿, 矿池算力垄断. 有潜在的中心化风险.
   - 矿池挖矿只是在抢夺记账权,获得比特币,消耗大量电力,并无实际价值,我国计划取缔挖矿.



## 区块链演化

1. 比特币 1.0  7笔/s
2. 以太坊 智能合约 2.0  15笔/s
3. hyperledger  3.0  百万笔

私有链

公开链

联盟链 

共识协议(不止这么多)

- POW：Proof of Work，工作证明。
  - 比特币在Block的生成过程中使用了POW机制，一个符合要求的Block Hash由N个前导零构成，零的个数取决于网络的难度值。要得到合理的Block Hash需要经过大量尝试计算，计算时间取决于机器的哈希运算速度。当某个节点提供出一个合理的Block Hash值，说明该节点确实经过了大量的尝试计算，当然，并不能得出计算次数的绝对值，因为寻找合理hash是一个概率事件。当节点拥有占全网n%的算力时，该节点即有n/100的概率找到Block Hash。
- POS：Proof of Stake，股权证明。
  - POS：也称股权证明，类似于财产储存在银行，这种模式会根据你持有数字货币的量和时间，分配给你相应的利息。 �简单来说，就是一个根据你持有货币的量和时间，给你发利息的一个制度，在股权证明POS模式下，有一个名词叫币龄，每个币每天产生1币龄，比如你持有100个币，总共持有了30天，那么，此时你的币龄就为3000，这个时候，如果你发现了一个POS区块，你的币龄就会被清空为0。你每被清空365币龄，你将会从区块中获得0.05个币的利息(假定利息可理解为年利率5%)，那么在这个案例中，利息 = 3000 * 5% / 365 = 0.41个币，这下就很有意思了，持币有利息。
- DPOS：Delegated Proof of Stake，委任权益证明
  - 比特股的DPoS机制，中文名叫做股份授权证明机制（又称受托人机制），它的原理是让每一个持有比特股的人进行投票，由此产生101位代表 , 我们可以将其理解为101个超级节点或者矿池，而这101个超级节点彼此的权利是完全相等的。从某种角度来看，DPOS有点像是议会制度或人民代表大会制度。如果代表不能履行他们的职责（当轮到他们时，没能生成区块），他们会被除名，网络会选出新的超级节点来取代他们。DPOS的出现最主要还是因为矿机的产生，大量的算力在不了解也不关心比特币的人身上，类似演唱会的黄牛，大量囤票而丝毫不关心演唱会的内容。
- POE: Proof of  elapsed time ,消逝时间证明
  - Intel 公司芯片级别的共识协议, 耗电量少



ipfs

